# 超市库存及收银管理系统

## 项目介绍

### 系统架构与核心技术

采用MVC模式分层设计，前端基于Qt框架实现用户交互，后端通过MySQL管理数据，模块间解耦，提升可维护性。
实现自动化库存同步：通过MySQL触发器实时更新商品库存，确保数据一致性，减少人工干预。
设计多表关联视图（如商品详情视图），简化复杂查询逻辑，提升数据检索效率。

### 主要功能

[]!(https://github.com/yangwangxingkong165/supermarket/raw/main/Qt/photo/14.png)

#### 1.进货
点击主页面“进货”，进入进货界面。
包含进货单号，商品id，仓库id，采购数量，供货商id，采购日期的信息。
若该商品第一次进货，则将在goods表中新建该商品数据项，提示用户输入缺失的信息，包括商品名，类型，销售价格。
若该仓库第一次存入商品，则将在storehouse表中新建该仓库数据项，提示用户输入缺失的信息，包括仓库名，仓库地址。
进货后将同步更新其他表，如库存表中的相关信息

#### 2.新建订单
点击主页面“新建订单”，进入新建订单页面。
包括订单号，订单日期，客户id，收银员id，提交后进入详单页面
详单页面提示输入商品号，数量和单价，可多次提交，但商品号不可重复。
提交后将自动更新订单表中该订单的总销售额

#### 3.向已有订单中添加详单

点击主页面“添加至订单”，弹窗提示用户输入已有的订单号，进入详单界面。
详单界面左边将显示该订单已有的所有详单，商品号不可重复。

#### 4.添加商品信息

点击主页面“添加商品信息”，进入商品表界面。
输入商品id，商品名称，种类，销售单价并提交，默认该商品数量为0。

#### 5.查询商品库存

点击主页面“查询商品库存”，提示用户选择查询所有库存，还是按照商品id，仓库id或类型分别查询符合的库存

#### 6.查询销售额

点击主页面“查询一天销售额”，提示用户选择查询每天销售额还是查询总销售额

#### 7.删除

点击主页面“删除”，提示用户输入当前登录账号的密码，若密码正确，则可选择删除管理员账号，仓库，商品，进货信息，订单信息。
若删除仓库信息，则一并减少其相关商品的库存。
若删除商品信息，则一并减少其库存
若删除订单信息，则一并删除其详单

### 功能优化与创新

动态权限管理：支持管理员分级权限（如普通员工仅查询，主管可修改），增强系统安全性。
智能预警机制：库存低于阈值时自动触发补货提醒，避免缺货问题，优化库存周转率。（待实现）

### 用户体验改进

设计响应式UI，支持快捷键操作与多条件筛选（如按仓库/商品类型查询库存），提升操作效率。
实现数据导入/导出功能（Excel/CSV），便于与其他系统对接。（待实现）

## 使用方法

### 1.自行在其他软件（如vscode，workbench等）运行sql.sql文件中的mysq语句，并使用ODBC创建数据库连接

#### ODBC连接数据库

链接数据库的方法参考以下教程[QT通过ODBC连接MYSQL并使用（保姆级）](https://blog.csdn.net/qq_72583325/article/details/133967965)

### 2.将项目clone至本地，在qt中打开Qt/untitled.pro 文件

点击“打开文件或项目”，选择Qt/untitled.pro 文件

![](https://github.com/yangwangxingkong165/supermarket/raw/main/Qt/photo/13.png)

### 3.修改main.cpp中的数据库连接部分内容
![](https://github.com/yangwangxingkong165/supermarket/raw/main/Qt/photo/12.png)

### 4.点击Qt构建并运行
若出现“success”的提示则说明连接数据库成功。
若出现“open failed”则说明连接数据库识别，下方控制台会输出错误原因
